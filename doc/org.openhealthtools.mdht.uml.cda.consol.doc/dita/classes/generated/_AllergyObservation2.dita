<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="classId" xml:lang="en-us">
<title>Allergy Observation2 - conformance rules</title>
<shortdesc id="shortdesc">[Observation: templateId <tt>2.16.840.1.113883.10.20.22.4.7</tt>]</shortdesc>
<prolog id="prolog">
<metadata><category>Observation</category></metadata>
<resourceid id="2.16.840.1.113883.10.20.22.4.7"/>
</prolog>
<body>
<section id="knownSubclasses">
</section>
<section id="description">
<p>This template reflects a discrete observation about a patient's allergy or intolerance. Because it is a discrete observation, it will have a statusCode of "completed". The effectiveTime, also referred to as the "biologically relevant time" is the time at which the observation holds for the patient. For a provider seeing a patient in the clinic today, observing a history of penicillin allergy that developed five years ago, the effectiveTime is five years ago. 
The effectiveTime of the Allergy - Intolerance Observation is the definitive indication of whether or not the underlying allergy/intolerance is resolved. If known to be resolved, then an effectiveTime/high would be present. If the date of resolution is not known, then effectiveTime/high will be present with a nullFlavor of "UNK".
The agent responsible for an allergy or adverse reaction is not always a manufactured material (for example, food allergies), nor is it necessarily consumed. The following constraints reflect limitations in the base CDA R2 specification, and should be used to represent any type of responsible agent, i.e., use playingEntity classCode = "MMAT" for all agents, manufactured or not.</p>
</section>
<ol id="conformance">
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>templateId</b></tt> ( CONF:1098-7381, CONF:1098-10488, CONF:1098-32526 ) such that it <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@root</b>="2.16.840.1.113883.10.20.22.4.7"</tt></li> <li><b>SHALL</b> contain exactly one [1..1] <tt><b>@extension</b>="2014-06-09"</tt></li></ol></li>
<li><b>SHALL</b> conform to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/AllergyObservation.html">Allergy Observation</xref> template (templateId: <tt>2.16.840.1.113883.10.20.22.4.7</tt>)</li>
<li><b>MAY</b> contain zero or one [0..1] <tt><b>@negationInd</b></tt> (CONF:1098-31526)
<p>Note: Use negationInd="true" to indicate that the allergy was not observed.</p></li>
<li>
<b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt> (CONF:1098-15947)<tt><b>/@code</b>="ASSERTION" </tt><i>Assertion</i> (CodeSystem:<tt> 2.16.840.1.113883.5.4 HL7ActCode</tt>) (CONF:1098-15948, CONF:1098-32153)
</li>
<li>
<b>SHALL</b> contain exactly one [1..1] <tt><b>value</b></tt> with <tt><b>@xsi:type</b>="CD"</tt>, which <b>SHALL</b> be selected from ValueSet<tt> Allergy/Adverse Event Type 2.16.840.1.113883.3.88.12.3221.6.2</tt><b> DYNAMIC</b> (CONF:1098-7390)<p>Note: The consumable participant points to the precise allergen or substance of intolerance. Because the consumable and the reaction are more clinically relevant than a categorization of the allergy/adverse event type, many systems will simply assign a fixed value here (e.g. "allergy to substance").</p>
</li>
<li>
<b>SHALL</b> contain exactly one [1..1] <tt><b>statusCode</b></tt> (CONF:1098-19084)<tt><b>/@code</b>="completed" </tt><i>Completed</i> (CodeSystem:<tt> 2.16.840.1.113883.5.14 ActStatus</tt>) (CONF:1098-19085)
</li>
<li>
<b>SHALL</b> contain exactly one [1..1] <tt><b>effectiveTime</b></tt> (CONF:1098-7387) <p><lines><i>Note: If the allergy/intolerance is known to be resolved, but the date of resolution is not known, then the high element SHALL be present, and the nullFlavor attribute SHALL be set to 'UNK'.</i></lines></p>
</li>
<li>
<b>SHOULD</b> contain  [0..*] <tt><b>author</b></tt> such that it  (CONF:1098-31143)<ol>
<li>Conforms to <xref href="../AuthorParticipation.dita">Author Participation</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.119</tt>)</li></ol>
</li>
<li>
<b>SHOULD</b> contain  [0..*] <tt><b>entryRelationship</b></tt> such that it  (CONF:1098-7447, CONF:1098-7907, CONF:1098-15955)<ol>
<li>Contains <tt><b>@typeCode="</b>MFST" </tt><i>MFST</i></li>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/ReactionObservation2.html">Reaction Observation2</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.9:2014-06-09</tt>)</li></ol>
</li>
<li>
<b>SHOULD</b> contain  [0..1] <tt><b>entryRelationship</b></tt> such that it  (CONF:1098-9961, CONF:1098-9962, CONF:1098-15956, DSTU:710)<ol>
<li>Contains <tt><b>@typeCode="</b>SUBJ" </tt><i>SUBJ</i></li>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/SeverityObservation2.html">Severity Observation2</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.8:2014-06-09</tt>)</li></ol>
</li>
<li>
contains  [0..*] <tt><b>entryRelationship</b></tt> such that it <ol>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/AllergyStatusObservation.html">Allergy Status Observation</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.28</tt>)</li></ol>
</li>
<li>
<b>SHALL</b> contain exactly one [1..1] <tt><b>participant</b></tt> such that it  (CONF:1098-7402) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@typeCode</b></tt><tt><b>/@code</b>="CSM" </tt><i>Consumable</i> (CodeSystem:<tt> 2.16.840.1.113883.5.90 HL7ParticipationType</tt>) (CONF:7403, R2.0=CONF:1098-7403)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>participantRole</b></tt> such that it  (CONF:1098-7404) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@classCode</b></tt><tt><b>/@code</b>="MANU" </tt><i>Manufactured Product</i> (CodeSystem:<tt> 2.16.840.1.113883.5.110 HL7RoleClass</tt>) (CONF:7405, R2.0=CONF:1098-7405)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>playingEntity</b></tt> such that it  (CONF:1098-7406) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@classCode</b>="MMAT" </tt> (CONF:7407, R2.0=CONF:7407)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt> (CONF:1098-7419)</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li></ol></li></ol></li></ol> 
</li>
<li>
<b>SHOULD</b> contain  [0..1] <tt><b>entryRelationship</b></tt> such that it  (CONF:1098-32910, CONF:1098-32911, CONF:1098-32913)<ol>
<li>Contains <tt><b>@typeCode="</b>SUBJ" </tt><i>SUBJ</i></li>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/CriticalityObservation.html">Criticality Observation</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.145</tt>)</li></ol>
</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li>entryRelationship with target entry Reaction Observation (V2) <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:1098-7449)</li>
<li>entryRelationship with target entry Severity Observation (V2) <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:1098-9964, DSTU:710)</li>
<li>entryRelationship with target entry Criticality Observation <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:1098-32912)</li>
</ol>
<ol id="aggregate">
<li><b>SHALL</b> conform to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/SubstanceOrDeviceAllergyObservation.html">Substance Or Device Allergy Observation</xref> template (templateId: <tt>2.16.840.1.113883.10.20.24.3.90</tt>)</li>
<li><b>SHALL</b> conform to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/AllergyObservation.html">Allergy Observation</xref> template (templateId: <tt>2.16.840.1.113883.10.20.22.4.7</tt>)</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>@classCode</b>="OBS" </tt><i>Observation</i> (CodeSystem:<tt> 2.16.840.1.113883.5.6 HL7ActClass</tt>) (CONF:7379, R2.0=CONF:1098-7379)
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>@moodCode</b>="EVN" </tt><i>Event</i> (CodeSystem:<tt> 2.16.840.1.113883.5.1001 HL7ActMood</tt>) (CONF:7380, R2.0=CONF:1098-7380)
</li>
<li><b>MAY</b> contain zero or one [0..1] <tt><b>@negationInd</b></tt> (CONF:1098-31526)
<p>Note: Use negationInd="true" to indicate that the allergy was not observed.</p></li>
<li><b>SHALL</b> contain at least one [1..*] <tt><b>id</b></tt> (CONF:7382, R2.0=CONF:1098-7382)
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt> (CONF:1098-15947)<tt><b>/@code</b>="ASSERTION" </tt><i>Assertion</i> (CodeSystem:<tt> 2.16.840.1.113883.5.4 HL7ActCode</tt>) (CONF:1098-15948, CONF:1098-32153)
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>statusCode</b></tt> (CONF:1098-19084)<tt><b>/@code</b>="completed" </tt><i>Completed</i> (CodeSystem:<tt> 2.16.840.1.113883.5.14 ActStatus</tt>) (CONF:1098-19085)
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>effectiveTime</b></tt> (CONF:1098-7387) <p><lines><i>Note: If the allergy/intolerance is known to be resolved, but the date of resolution is not known, then the high element SHALL be present, and the nullFlavor attribute SHALL be set to 'UNK'.</i></lines></p>
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>value</b></tt> with <tt><b>@xsi:type</b>="CD"</tt>, which <b>SHALL</b> be selected from ValueSet<tt> Allergy/Adverse Event Type 2.16.840.1.113883.3.88.12.3221.6.2</tt><b> DYNAMIC</b> (CONF:1098-7390)
<p>Note: The consumable participant points to the precise allergen or substance of intolerance. Because the consumable and the reaction are more clinically relevant than a categorization of the allergy/adverse event type, many systems will simply assign a fixed value here (e.g. "allergy to substance").</p></li>
<li><b>MAY</b> contain  [0..1] <tt><b>entryRelationship</b></tt> such that it  (CONF:16333, CONF:16335, CONF:16336, R2.0=CONF:1098-16333, R2.0=CONF:1098-16335, R2.0=CONF:1098-16336)
<ol>
<li>Contains <tt><b>@typeCode="</b>SUBJ" </tt><i>SUBJ</i></li>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/AllergyStatusObservation.html">Allergy Status Observation</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.28</tt>)</li></ol></li>
<li><b>SHOULD</b> contain zero or more [0..*] <tt><b>participant</b></tt> such that it  (CONF:16318) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@typeCode</b>="CSM" </tt> (CONF:16319, R2.0=CONF:1098-16319)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>participantRole</b></tt> such that it  (CONF:16320) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@classCode</b>="MANU" </tt> (CONF:16321, R2.0=CONF:1098-16321)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>playingEntity</b></tt> such that it  (CONF:16322) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@classCode</b>="MMAT" </tt> (CONF:16323, R2.0=CONF:1098-16323)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt> (CONF:16324)</li><li>code/originalText/reference/@value <b>SHALL</b> begin with a '#' and <b>SHALL</b> point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1 (CONF:16329)</li><li>In an allergy to a specific medication the code <b>SHALL</b> be selected from the ValueSet 2.16.840.1.113883.3.88.12.80.16 Medication Brand Name DYNAMIC or the ValueSet 2.16.840.1.113883.3.88.12.80.17 Medication Clinical Drug DYNAMIC (CONF:16325)</li><li>In an allergy to a class of medications the code <b>SHALL</b> be selected from the ValueSet 2.16.840.1.113883.3.88.12.80.18 Medication Drug Class DYNAMIC (CONF:16331)</li><li>In an allergy to a food or other substance the code <b>SHALL</b> be selected from the ValueSet 2.16.840.1.113883.3.88.12.80.20 Ingredient Name DYNAMIC (CONF:16332)</li><li>reference, if present, <b>SHOULD</b> contain zero or one [0..1] @value (CONF:16328)</li><li>originalText, if present, <b>SHOULD</b> contain zero or one [0..1] reference (CONF:16327)</li><li>code <b>MAY</b> be selected from ValueSet Substance-Reactant for Intolerance 2.16.840.1.113762.1.4.1010.1 DYNAMIC. Note: Value set intentionally defined as a GROUPING made up of: Value Set: Medication Drug Class (2.16.840.1.113883.3.88.12.80.18) (NDFRT drug class codes); Value Set: Clinical Drug Ingredient (2.16.840.1.113762.1.4.1010.7) (RxNORM ingredient codes); Value Set: Unique Ingredient Identifier - Complete Set (2.16.840.1.113883.3.88.12.80.20) (UNII ingredient codes); Value Set: Substance Other Than Clinical Drug (2.16.840.1.113762.1.4.1010.9) (SNOMED CT substance codes). (CONF:16324, R2.0=CONF:1098-16324)</li></ol></li></ol></li></ol> 
</li>
<li><b>MAY</b> contain  [0..1] <tt><b>entryRelationship</b></tt> such that it  (CONF:7440, CONF:7906, CONF:15954)
<ol>
<li>Contains <tt><b>@typeCode="</b>SUBJ" </tt><i>SUBJ</i></li>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/AllergyStatusObservation.html">Allergy Status Observation</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.28</tt>)</li></ol></li>
<li><b>SHOULD</b> contain  [0..*] <tt><b>author</b></tt> such that it  (CONF:1098-31143)
<ol>
<li>Conforms to <xref href="../AuthorParticipation.dita">Author Participation</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.119</tt>)</li></ol></li>
<li><b>SHOULD</b> contain  [0..*] <tt><b>entryRelationship</b></tt> such that it  (CONF:1098-7447, CONF:1098-7907, CONF:1098-15955)
<ol>
<li>Contains <tt><b>@typeCode="</b>MFST" </tt><i>MFST</i></li>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/ReactionObservation2.html">Reaction Observation2</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.9:2014-06-09</tt>)</li></ol></li>
<li><b>SHOULD</b> contain  [0..1] <tt><b>entryRelationship</b></tt> such that it  (CONF:1098-9961, CONF:1098-9962, CONF:1098-15956, DSTU:710)
<ol>
<li>Contains <tt><b>@typeCode="</b>SUBJ" </tt><i>SUBJ</i></li>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/SeverityObservation2.html">Severity Observation2</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.8:2014-06-09</tt>)</li></ol></li>
<li>contains  [0..*] <tt><b>entryRelationship</b></tt> such that it 
<ol>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/AllergyStatusObservation.html">Allergy Status Observation</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.28</tt>)</li></ol></li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>participant</b></tt> such that it  (CONF:1098-7402) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@typeCode</b></tt><tt><b>/@code</b>="CSM" </tt><i>Consumable</i> (CodeSystem:<tt> 2.16.840.1.113883.5.90 HL7ParticipationType</tt>) (CONF:7403, R2.0=CONF:1098-7403)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>participantRole</b></tt> such that it  (CONF:1098-7404) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@classCode</b></tt><tt><b>/@code</b>="MANU" </tt><i>Manufactured Product</i> (CodeSystem:<tt> 2.16.840.1.113883.5.110 HL7RoleClass</tt>) (CONF:7405, R2.0=CONF:1098-7405)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>playingEntity</b></tt> such that it  (CONF:1098-7406) <ol><li><b>SHALL</b> contain exactly one [1..1] <tt><b>@classCode</b>="MMAT" </tt> (CONF:7407, R2.0=CONF:7407)</li><li><b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt> (CONF:1098-7419)</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li><li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li></ol></li></ol></li></ol> 
</li>
<li><b>SHOULD</b> contain  [0..1] <tt><b>entryRelationship</b></tt> such that it  (CONF:1098-32910, CONF:1098-32911, CONF:1098-32913)
<ol>
<li>Contains <tt><b>@typeCode="</b>SUBJ" </tt><i>SUBJ</i></li>
<li>Conforms to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/CriticalityObservation.html">Criticality Observation</xref> (templateId: <tt>2.16.840.1.113883.10.20.22.4.145</tt>)</li></ol></li>
<li>entryRelationship with target entry Allergy Status Observation <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:16334, R2.0=CONF:1098-16334)</li>
<li>entryRelationship with target entry Reaction Observation <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:16338)</li>
<li>entryRelationship with target entry Severity Observation <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:16343)</li>
<li>If it is unknown when the allergy began, this effectiveTime <b>SHALL</b> contain low/@nullFLavor="UNK" (CONF:9103)</li>
<li>If the allergy is no longer a concern, this effectiveTime <b>MAY</b> contain zero or one [0..1] high (CONF:10082)</li>
<li>value <b>SHOULD</b> contain zero or one [0..1] originalText (CONF:7422)</li>
<li>originalText, if present, <b>MAY</b> contain zero or one [0..1] reference (CONF:15949)</li>
<li>reference, if present, <b>SHOULD</b> contain zero or one [0..1] reference/@value (CONF:15950)</li>
<li>reference/@value <b>SHALL</b> begin with a '#' and <b>SHALL</b> point to its corresponding narrative (CONF:15951)</li>
<li>entryRelationship with target entry AllergyStatusObservation <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:7446)</li>
<li>entryRelationship with target entry Reaction Observation <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:7449)</li>
<li>entryRelationship with target entry Severity Observation <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:9964)</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li><b>MAY</b> satisfy: This constraint is being overridden as it has been removed in v2 and should never fire</li>
<li>entryRelationship with target entry Reaction Observation (V2) <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:1098-7449)</li>
<li>entryRelationship with target entry Severity Observation (V2) <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:1098-9964, DSTU:710)</li>
<li>entryRelationship with target entry Criticality Observation <b>SHALL</b> contain exactly one [1..1] @inversionInd="true" True (CONF:1098-32912)</li>
</ol>
<section id="tableconformance"><p><table frame="all" scale="80" pgwide="1" ><tgroup cols="6" align="left" colsep = "1" rowsep = "1" > <colspec colname="col0" colnum="0" colwidth="3*"  /><colspec colname="col1" colnum="1" colwidth="1*"  /><colspec colname="col2" colnum="2" colwidth="1*"  /><colspec colname="col3" colnum="3" colwidth="2*"  /><colspec colname="col4" colnum="4" colwidth="2*"  /><colspec colname="col5" colnum="5" colwidth="3*"  /><thead> <row><entry namest="col0" nameend="col5" >consol::AllergyObservation2</entry>  </row>  <row><entry namest="col0" nameend="col5" >cda::observation[cda:templateId/@root = 2.16.840.1.113883.10.20.22.4.7]/</entry>  </row> <row><entry>XPath</entry><entry>Card.</entry><entry>Verb</entry><entry>Data Type</entry><entry>CONF#</entry><entry>Fixed Value</entry></row></thead><tbody><row><entry>@negationInd</entry><entry>0..1</entry><entry>MAY</entry><entry>EBooleanObject</entry><entry>CONF:1098-31526</entry><entry> </entry></row> 
<row><entry>code</entry><entry>1..1</entry><entry>SHALL</entry><entry>CD</entry><entry>CONF:1098-15948CONF:1098-32153</entry><entry>HL7ActCode 2.16.840.1.113883.5.4HL7ActCode 2.16.840.1.113883.5.4HL7ActCode 2.16.840.1.113883.5.4 ASSERTION</entry></row> 
<row><entry>statusCode</entry><entry>1..1</entry><entry>SHALL</entry><entry>CS</entry><entry>CONF:1098-19085</entry><entry>ActStatus 2.16.840.1.113883.5.14ActStatus 2.16.840.1.113883.5.14ActStatus 2.16.840.1.113883.5.14 completed</entry></row> 
<row><entry>value</entry><entry>1..1</entry><entry>SHALL</entry><entry>CD</entry><entry>CONF:1098-7390</entry><entry> </entry></row> 
<row><entry>allergyObservation2</entry><entry>1..*</entry><entry>SHALL</entry><entry>AllergyObservation2</entry><entry>CONF:1198-7509, CONF:1198-7915, CONF:1198-14925</entry><entry> </entry></row> 
<row><entry>allergyStatusObservation</entry><entry>0..*</entry><entry>MAY</entry><entry>AllergyStatusObservation</entry><entry>CONF:7440CONF:7906CONF:15954</entry><entry> </entry></row> 
<row><entry>authorParticipation</entry><entry>0..*</entry><entry>SHOULD</entry><entry>AuthorParticipation</entry><entry>CONF:1098-31143</entry><entry> </entry></row> 
<row><entry>criticalityObservation</entry><entry>0..1</entry><entry>SHOULD</entry><entry>CriticalityObservation</entry><entry>CONF:1098-32910CONF:1098-32911CONF:1098-32913</entry><entry> </entry></row> 
<row><entry>effectiveTime</entry><entry>1..1</entry><entry>SHALL</entry><entry>IVL_TS</entry><entry>CONF:1098-7387</entry><entry> </entry></row> 
<row><entry>participant</entry><entry>1..1</entry><entry>SHALL</entry><entry>Participant</entry><entry>CONF:1098-7402</entry><entry> </entry></row> 
<row><entry>reactionObservation2</entry><entry>0..*</entry><entry>SHOULD</entry><entry>ReactionObservation2</entry><entry>CONF:1098-7447CONF:1098-7907CONF:1098-15955</entry><entry> </entry></row> 
<row><entry>severityObservation2</entry><entry>0..1</entry><entry>SHOULD</entry><entry>SeverityObservation2</entry><entry>CONF:1098-9961CONF:1098-9962CONF:1098-15956DSTU:710</entry><entry> </entry></row> 
</tbody></tgroup></table></p></section>
<section id="contextTable"><p><table frame="all" scale="80" pgwide="1" ><tgroup cols="2" align="left" colsep = "1" rowsep = "1" > <colspec colname="col0" colnum="0" /><colspec colname="col1" colnum="1" /><thead><row><entry namest="col0" nameend="col0" >Contained By</entry><entry namest="col1" nameend="col1" >Contains</entry></row></thead><tbody><row><entry><xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/AllergyConcernAct2.html">Allergy Concern Act (V3)</xref></entry><entry><xref href="../AdvanceDirectiveObservation2.dita">Advance Directive Observation (V3)</xref></entry></row><row><entry><xref href="../HealthConcernAct.dita">Health Concern Act (V2)</xref></entry><entry><xref href="../AdvanceDirectiveOrganizer.dita">Advance Directive Organizer (V2)</xref></entry></row><row><entry><xref href="../RiskConcernAct.dita">Risk Concern Act (V2)</xref></entry><entry><xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/AllergyStatusObservation.html">Allergy Status Observation</xref></entry></row><row><entry></entry><entry><xref href="../AuthorParticipation.dita">Author Participation</xref></entry></row><row><entry></entry><entry><xref href="../CodeObservations.dita">Code Observations</xref></entry></row><row><entry></entry><entry><xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/CriticalityObservation.html">Criticality Observation</xref></entry></row><row><entry></entry><entry><xref href="../ExternalDocumentReference.dita">External Document Reference</xref></entry></row><row><entry></entry><entry><xref href="../FetusSubjectContext.dita">Fetus Subject Context</xref></entry></row><row><entry></entry><entry><xref href="../ImmunizationMedicationInformation.dita">Immunization Medication Information</xref></entry></row><row><entry></entry><entry><xref href="../ImmunizationMedicationInformation2.dita">Immunization Medication Information2</xref></entry></row><row><entry></entry><entry><xref href="../MedicationInformation.dita">Medication Information</xref></entry></row><row><entry></entry><entry><xref href="../MedicationInformation2.dita">Medication Information2</xref></entry></row><row><entry></entry><entry><xref href="../ObserverContext.dita">Observer Context</xref></entry></row><row><entry></entry><entry><xref href="../PhysicianReadingStudyPerformer.dita">Physician Reading Study Performer</xref></entry></row><row><entry></entry><entry><xref href="../PhysicianReadingStudyPerformer2.dita">Physician Reading Study Performer2</xref></entry></row><row><entry></entry><entry><xref href="../PhysicianofRecordParticipant.dita">Physicianof Record Participant</xref></entry></row><row><entry></entry><entry><xref href="../PhysicianofRecordParticipant2.dita">Physicianof Record Participant2</xref></entry></row><row><entry></entry><entry><xref href="../PolicyActivity2.dita">Policy Activity (V3)</xref></entry></row><row><entry></entry><entry><xref href="../PreconditionForSubstanceAdministration.dita">Precondition For Substance Administration</xref></entry></row><row><entry></entry><entry><xref href="../PreconditionForSubstanceAdministration2.dita">Precondition For Substance Administration2</xref></entry></row><row><entry></entry><entry><xref href="../ProcedureActivityAct2.dita">Procedure Activity Act2</xref></entry></row><row><entry></entry><entry><xref href="../ProcedureActivityObservation2.dita">Procedure Activity Observation2</xref></entry></row><row><entry></entry><entry><xref href="../ProcedureActivityProcedure2.dita">Procedure Activity Procedure2</xref></entry></row><row><entry></entry><entry><xref href="../ProcedureContext.dita">Procedure Context</xref></entry></row><row><entry></entry><entry><xref href="../QuantityMeasurementObservation.dita">Quantity Measurement Observation</xref></entry></row><row><entry></entry><entry><xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/ReactionObservation2.html">Reaction Observation2</xref></entry></row><row><entry></entry><entry><xref href="../SOPInstanceObservation.dita">SOP Instance Observation</xref></entry></row><row><entry></entry><entry><xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/ServiceEvent.html">Service Event</xref></entry></row><row><entry></entry><entry><xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/ServiceEvent2.html">Service Event2</xref></entry></row><row><entry></entry><entry><xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.consol.doc/classes/SeverityObservation2.html">Severity Observation2</xref></entry></row><row><entry></entry><entry><xref href="../SubstanceAdministeredAct.dita">Substance Administered Act</xref></entry></row><row><entry></entry><entry><xref href="../TextObservation.dita">Text Observation</xref></entry></row></tbody></tgroup></table></p></section>
<codeblock id="example" outputclass="language-xml"><![CDATA[<observation xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:hl7-org:v3" classCode="OBS" moodCode="EVN">
  <templateId root="2.16.840.1.113883.10.20.22.4.7" extension="2014-06-09"/>
  <templateId root="2.16.840.1.113883.10.20.24.3.90"/>
  <templateId root="2.16.840.1.113883.10.20.22.4.7"/>
  <templateId root="2.16.840.1.113883.10.20.22.4.7" extension="2014-06-09"/>
  <templateId root="2.16.840.1.113883.10.20.24.3.90"/>
  <templateId root="2.16.840.1.113883.10.20.22.4.7"/>
  <id root="MDHT" extension="1343413016"/>
  <code code="ASSERTION" codeSystem="2.16.840.1.113883.5.4" codeSystemName="HL7ActCode" displayName="Assertion"/>
  <text>Text Value</text>
  <statusCode code="completed"/>
  <value xsi:type="CD" code="255276687"/>
  <author>
    <templateId root="2.16.840.1.113883.10.20.22.4.119"/>
    <time/>
    <assignedAuthor>
      <id root="MDHT" extension="81838817"/>
      <code code="481711177"/>
      <assignedPerson/>
      <representedOrganization/>
    </assignedAuthor>
  </author>
  <participant>
    <participantRole>
      <playingEntity/>
    </participantRole>
  </participant>
  <entryRelationship>
    <observation classCode="OBS" moodCode="EVN">
      <templateId root="2.16.840.1.113883.10.20.22.4.28"/>
      <id root="MDHT" extension="222680479"/>
      <code code="33999-4" codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" displayName="Status"/>
      <text>Text Value</text>
      <statusCode code="completed"/>
      <effectiveTime>
        <low value="2017"/>
        <high value="2017"/>
      </effectiveTime>
      <value xsi:type="CE" code="461550554"/>
    </observation>
  </entryRelationship>
  <entryRelationship>
    <observation classCode="OBS" moodCode="EVN">
      <templateId root="2.16.840.1.113883.10.20.22.4.9" extension="2014-06-09"/>
      <templateId root="2.16.840.1.113883.10.20.22.4.9"/>
      <id root="MDHT" extension="1195169481"/>
      <code code="ASSERTION" codeSystem="2.16.840.1.113883.5.4" codeSystemName="HL7ActCode"/>
      <text>Text Value</text>
      <statusCode code="completed"/>
      <effectiveTime>
        <low value="2017"/>
        <high value="2017"/>
      </effectiveTime>
      <entryRelationship>
        <procedure classCode="PROC" moodCode="EVN">
          <templateId root="2.16.840.1.113883.10.20.22.4.14" extension="2014-06-09"/>
          <templateId root="2.16.840.1.113883.10.20.22.4.14"/>
          <templateId root="2.16.840.1.113883.10.20.22.4.14" extension="2014-06-09"/>
          <templateId root="2.16.840.1.113883.10.20.22.4.14"/>
          <id root="MDHT" extension="48467211"/>
          <code code="1465010429"/>
          <text>Text Value</text>
          <statusCode code="completed"/>
          <effectiveTime>
            <low value="2017"/>
            <high value="2017"/>
          </effectiveTime>
          <priorityCode codeSystem="2.16.840.1.113883.5.7" codeSystemName="ActPriority"/>
          <targetSiteCode codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
          <targetSiteCode codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
          <targetSiteCode codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
          <targetSiteCode codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
          <specimen/>
          <performer/>
          <author>
            <templateId root="2.16.840.1.113883.10.20.22.4.119"/>
          </author>
          <entryRelationship>
            <observation classCode="OBS" moodCode="EVN">
              <templateId root="2.16.840.1.113883.10.20.22.4.19" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.19"/>
              <code codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
              <statusCode code="completed"/>
            </observation>
          </entryRelationship>
          <entryRelationship>
            <substanceAdministration classCode="SBADM">
              <templateId root="2.16.840.1.113883.10.20.22.4.16" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.16"/>
              <routeCode codeSystem="2.16.840.1.113883.3.26.1.1" codeSystemName="NCI Thesaurus"/>
              <approachSiteCode codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
              <administrationUnitCode codeSystem="2.16.840.1.113883.3.26.1.1" codeSystemName="NCI Thesaurus"/>
            </substanceAdministration>
          </entryRelationship>
          <entryRelationship>
            <act classCode="ACT" moodCode="INT">
              <templateId root="2.16.840.1.113883.10.20.22.4.20" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.20"/>
              <code codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
              <statusCode code="completed"/>
            </act>
          </entryRelationship>
          <entryRelationship>
            <observation classCode="OBS" moodCode="EVN">
              <templateId root="2.16.840.1.113883.10.20.22.4.9" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.9"/>
              <code code="ASSERTION" codeSystem="2.16.840.1.113883.5.4" codeSystemName="HL7ActCode"/>
              <statusCode code="completed"/>
            </observation>
          </entryRelationship>
        </procedure>
      </entryRelationship>
      <entryRelationship>
        <substanceAdministration classCode="SBADM">
          <templateId root="2.16.840.1.113883.10.20.22.4.16" extension="2014-06-09"/>
          <templateId root="2.16.840.1.113883.10.20.22.4.16"/>
          <templateId root="2.16.840.1.113883.10.20.22.4.16" extension="2014-06-09"/>
          <templateId root="2.16.840.1.113883.10.20.22.4.16"/>
          <id root="MDHT" extension="786126881"/>
          <code code="2147204660"/>
          <text>Text Value</text>
          <statusCode code="completed"/>
          <effectiveTime value="20170828"/>
          <routeCode codeSystem="2.16.840.1.113883.3.26.1.1" codeSystemName="NCI Thesaurus"/>
          <approachSiteCode codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
          <approachSiteCode codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
          <administrationUnitCode codeSystem="2.16.840.1.113883.3.26.1.1" codeSystemName="NCI Thesaurus"/>
          <consumable/>
          <author>
            <templateId root="2.16.840.1.113883.10.20.22.4.119"/>
          </author>
          <entryRelationship>
            <act classCode="ACT" moodCode="INT">
              <templateId root="2.16.840.1.113883.10.20.22.4.123"/>
              <code code="395170001" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT" displayName="medication monitoring (regime/therapy)"/>
            </act>
          </entryRelationship>
          <entryRelationship>
            <act classCode="ACT" moodCode="INT">
              <templateId root="2.16.840.1.113883.10.20.22.4.20" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.20"/>
              <code codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
              <statusCode code="completed"/>
            </act>
          </entryRelationship>
          <entryRelationship>
            <act classCode="ACT" moodCode="EVN">
              <templateId root="2.16.840.1.113883.10.20.22.4.118"/>
              <code code="416118004" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT" displayName="Administration"/>
              <statusCode code="completed"/>
            </act>
          </entryRelationship>
          <entryRelationship>
            <observation classCode="OBS" moodCode="EVN">
              <templateId root="2.16.840.1.113883.10.20.22.4.19" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.19"/>
              <code codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT"/>
              <statusCode code="completed"/>
            </observation>
          </entryRelationship>
          <entryRelationship>
            <supply classCode="SPLY" moodCode="INT">
              <templateId root="2.16.840.1.113883.10.20.22.4.17" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.17"/>
            </supply>
          </entryRelationship>
          <entryRelationship>
            <supply classCode="SPLY" moodCode="EVN">
              <templateId root="2.16.840.1.113883.10.20.22.4.18" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.18"/>
            </supply>
          </entryRelationship>
          <entryRelationship>
            <observation classCode="OBS" moodCode="EVN">
              <templateId root="2.16.840.1.113883.10.20.22.4.9" extension="2014-06-09"/>
              <templateId root="2.16.840.1.113883.10.20.22.4.9"/>
              <code code="ASSERTION" codeSystem="2.16.840.1.113883.5.4" codeSystemName="HL7ActCode"/>
              <statusCode code="completed"/>
            </observation>
          </entryRelationship>
          <entryRelationship>
            <substanceAdministration classCode="SBADM">
              <templateId root="2.16.840.1.113883.10.20.22.4.147"/>
              <code code="76662-6" codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" displayName="Instructions Medication"/>
            </substanceAdministration>
          </entryRelationship>
          <precondition typeCode="PRCN"/>
        </substanceAdministration>
      </entryRelationship>
      <entryRelationship>
        <observation classCode="OBS" moodCode="EVN">
          <templateId root="2.16.840.1.113883.10.20.22.4.8" extension="2014-06-09"/>
          <templateId root="2.16.840.1.113883.10.20.22.4.8"/>
          <id root="MDHT" extension="227514909"/>
          <code code="SEV" codeSystem="2.16.840.1.113883.5.4" codeSystemName="HL7ActCode" displayName="Severity observation"/>
          <text>Text Value</text>
          <statusCode code="completed"/>
          <effectiveTime>
            <low value="2017"/>
            <high value="2017"/>
          </effectiveTime>
        </observation>
      </entryRelationship>
    </observation>
  </entryRelationship>
  <entryRelationship>
    <observation classCode="OBS" moodCode="EVN">
      <templateId root="2.16.840.1.113883.10.20.22.4.8" extension="2014-06-09"/>
      <templateId root="2.16.840.1.113883.10.20.22.4.8"/>
      <id root="MDHT" extension="1384857505"/>
      <code code="SEV" codeSystem="2.16.840.1.113883.5.4" codeSystemName="HL7ActCode" displayName="Severity observation"/>
      <text>Text Value</text>
      <statusCode code="completed"/>
      <effectiveTime>
        <low value="2017"/>
        <high value="2017"/>
      </effectiveTime>
    </observation>
  </entryRelationship>
  <entryRelationship>
    <observation classCode="OBS" moodCode="EVN">
      <templateId root="2.16.840.1.113883.10.20.22.4.145"/>
      <id root="MDHT" extension="1925436960"/>
      <code code="82606-5" codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" displayName="Allergy or intolerance criticality"/>
      <text>Text Value</text>
      <statusCode code="completed"/>
      <effectiveTime>
        <low value="2017"/>
        <high value="2017"/>
      </effectiveTime>
      <value xsi:type="CD" code="506628431"/>
    </observation>
  </entryRelationship>
</observation>]]></codeblock>
<section id="changes">
<p>
Change Log from Consol::AllergyObservation
</p>
<p id="AllergyObservation" >
<ol><li><b>Modifications</b>
</li><li>SHALL contain exactly one [1..1] templateId ( CONF:7381, CONF:10488 ) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.7"
</li><li>Consol Allergy Observation If it is unknown when the allergy began, this effectiveTime SHALL contain low/@nullFLavor="UNK" (CONF:9103)
</li><li>Consol Allergy Observation If the allergy is no longer a concern, this effectiveTime MAY contain zero or one [0..1] high (CONF:10082)
</li><li>Consol Allergy Observation value SHOULD contain zero or one [0..1] originalText (CONF:7422)
</li><li>Consol Allergy Observation originalText, if present, MAY contain zero or one [0..1] reference (CONF:15949)
</li><li>Consol Allergy Observation reference, if present, SHOULD contain zero or one [0..1] reference/@value (CONF:15950)
</li><li>Consol Allergy Observation reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (CONF:15951)
</li><li>Consol Allergy Observation entryRelationship with target entry AllergyStatusObservation SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:7446)
</li><li>Consol Allergy Observation entryRelationship with target entry Reaction Observation SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:7449)
</li><li>Consol Allergy Observation entryRelationship with target entry Severity Observation SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:9964)
</li><li>SHALL conform to Substance Or Device Allergy Observation template (templateId: 2.16.840.1.113883.10.20.24.3.90)
</li><li>Consol Allergy Observation SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: 2.16.840.1.113883.5.6 HL7ActClass) (CONF:7379, R2.0=CONF:1098-7379)
</li><li>Consol Allergy Observation SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: 2.16.840.1.113883.5.1001 HL7ActMood) (CONF:7380, R2.0=CONF:1098-7380)
</li><li>Consol Allergy Observation SHALL contain at least one [1..*] id (CONF:7382, R2.0=CONF:1098-7382)
</li><li>Consol Allergy Observation SHALL contain exactly one [1..1] code (CONF:15947)/@code="ASSERTION"  (CodeSystem: 2.16.840.1.113883.5.4 HL7ActCode) (CONF:15948)
</li><li>Consol Allergy Observation SHALL contain exactly one [1..1] statusCode/@code="completed"  (CodeSystem: 2.16.840.1.113883.5.14 ActStatus) (CONF:7386)
</li><li>Consol Allergy Observation SHALL contain exactly one [1..1] effectiveTime (CONF:7387)
</li><li>Consol Allergy Observation SHALL contain exactly one [1..1] value with @xsi:type="CD", which SHALL be selected from ValueSet Allergy/Adverse Event Type 2.16.840.1.113883.3.88.12.3221.6.2 DYNAMIC (CONF:7390, CONF:9139)
</li><li>Consol Allergy Observation MAY contain  [0..1] entryRelationship such that it  (CONF:7440, CONF:7906, CONF:15954) Contains @typeCode="SUBJ" SUBJ, and Conforms to Allergy Status Observation (templateId: 2.16.840.1.113883.10.20.22.4.28)
</li><li>Consol Allergy Observation SHOULD contain  [0..*] entryRelationship such that it  (CONF:7447, CONF:7907, CONF:15955) Contains @typeCode="MFST" MFST, and Conforms to Reaction Observation (templateId: 2.16.840.1.113883.10.20.22.4.9)
</li><li>Consol Allergy Observation MAY contain  [0..1] entryRelationship such that it  (CONF:9961, CONF:9962, CONF:15956) Contains @typeCode="SUBJ" SUBJ, and Conforms to Severity Observation (templateId: 2.16.840.1.113883.10.20.22.4.8)
</li><li>Consol Allergy Observation SHOULD contain zero or one [0..1] participant, where its type is Participant (CONF:7402)
</li><li>SHALL conform to CDA Participant2
</li><li>Consol Participant SHALL contain exactly one [1..1] @typeCode/@code="CSM" Consumable (CodeSystem: 2.16.840.1.113883.5.90 HL7ParticipationType) (CONF:7403, R2.0=CONF:1098-7403)
</li><li>Consol Participant SHALL contain exactly one [1..1] participantRole, where its type is Participant Role (CONF:7404)
</li><li>SHALL conform to CDA Participant Role
</li><li>Consol Participant Role SHALL contain exactly one [1..1] @classCode/@code="MANU" Manufactured Product (CodeSystem: 2.16.840.1.113883.5.110 HL7RoleClass) (CONF:7405, R2.0=CONF:1098-7405)
</li><li>Consol Participant Role SHALL contain exactly one [1..1] playingEntity, where its type is Playing Entity (CONF:7406)
</li><li>Consol Playing Entity reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1 (CONF:15953)
</li><li>Consol Playing Entity In an allergy to a specific medication the code SHALL be selected from the ValueSet 2.16.840.1.113883.3.88.12.80.16 Medication Brand Name DYNAMIC or the ValueSet 2.16.840.1.113883.3.88.12.80.17 Medication Clinical Drug DYNAMIC (CONF:7421)
</li><li>Consol Playing Entity In an allergy to a class of medications the code SHALL be selected from the ValueSet 2.16.840.1.113883.3.88.12.80.18 Medication Drug Class DYNAMIC (CONF:10083)
</li><li>Consol Playing Entity In an allergy to a food or other substance the code SHALL be selected from the ValueSet 2.16.840.1.113883.3.88.12.80.20 Ingredient Name DYNAMIC (CONF:10084)
</li><li>Consol Playing Entity reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15952)
</li><li>Consol Playing Entity originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:7425)
</li><li>Consol Playing Entity code SHALL be selected from ValueSet Substance-Reactant for Intolerance 2.16.840.1.113762.1.4.1010.1 DYNAMIC. Note: Value set intentionally defined as a GROUPING made up of: Value Set: Medication Drug Class (2.16.840.1.113883.3.88.12.80.18) (NDFRT drug class codes); Value Set: Clinical Drug Ingredient (2.16.840.1.113762.1.4.1010.7) (RxNORM ingredient codes); Value Set: Unique Ingredient Identifier - Complete Set (2.16.840.1.113883.3.88.12.80.20) (UNII ingredient codes); Value Set: Substance Other Than Clinical Drug (2.16.840.1.113762.1.4.1010.9) (SNOMED CT substance codes). (CONF:7419)
</li><li>SHALL conform to CDA Playing Entity
</li><li>Consol Playing Entity SHALL contain exactly one [1..1] @classCode="MMAT"  (CONF:7407, R2.0=CONF:7407)
</li><li>Consol Playing Entity SHALL contain exactly one [1..1] code (CONF:7419)
</li><li>Extends  CE
</li><li>Consol CE SHOULD contain zero or one [0..1] originalText (CONF:7424)
</li><li>Consol CE MAY contain zero or more [0..*] translation (CONF:7431)
</li><li><b>Additions</b>
</li></ol></p>
</section>
<p><ph id="classformalname">Allergy Observation2</ph></p>
<p id="shortdesc">[Observation: templateId <tt>2.16.840.1.113883.10.20.22.4.7</tt>]</p>
</body>
</topic>
